(this["webpackJsonpreddit-scraper"]=this["webpackJsonpreddit-scraper"]||[]).push([[0],[,,,,function(e,t,r){e.exports={navbar:"Navbar_navbar__31-FB",navbar__logo:"Navbar_navbar__logo__2ou9Y",navbar__title:"Navbar_navbar__title__3-7CC"}},function(e,t,r){e.exports={searchbar__label:"SearchBar_searchbar__label__1aEKd",searchbar__input:"SearchBar_searchbar__input__1UQUp",searchbar__btn:"SearchBar_searchbar__btn__9s5ct"}},function(e,t,r){e.exports={"popular-search-list":"PopularSearchList_popular-search-list__1c3Fc","popular-search-list__heading":"PopularSearchList_popular-search-list__heading__35FaZ","popular-search-list__subreddit":"PopularSearchList_popular-search-list__subreddit__1gELa"}},,function(e,t,r){e.exports={btn:"Button_btn__Liofu"}},function(e,t,r){e.exports={"grid-square":"GridSquare_grid-square__cQ_Rq","color-1":"GridSquare_color-1__2AOH0","color-2":"GridSquare_color-2__3f6Tx","color-3":"GridSquare_color-3__E6IfZ","color-4":"GridSquare_color-4__1mIqN","color-5":"GridSquare_color-5__2eI04","color-6":"GridSquare_color-6__3aZJ3"}},,function(e,t,r){e.exports={instructions:"Instructions_instructions__1imUA"}},,,,,,function(e,t,r){},function(e,t,r){},,function(e,t,r){"use strict";r.r(t);var c=r(1),n=r.n(c),i=r(10),s=r.n(i),a=(r(17),r(2)),d=(r(18),r(4)),j=r.n(d),l=r(0),o=function(){return Object(l.jsxs)("div",{className:j.a.navbar,children:[Object(l.jsx)("div",{className:j.a.navbar__logo,children:Object(l.jsx)("a",{href:"/",children:"[LOGO]"})}),Object(l.jsx)("div",{className:j.a.navbar__title,children:"Reddit Scraper App"})]})},h=r(11),b=r.n(h),u=function(){return Object(l.jsx)("div",{className:b.a.instructions,children:"Search for your favorite subreddit below to find the best times to post."})},O=r(8),x=r.n(O),v=function(e){var t=e.className?"".concat(e.className," ").concat(x.a.btn):x.a.btn;return Object(l.jsx)("button",{className:t,onClick:e.onClick,children:e.btnText})},p=r(5),_=r.n(p),f=function(e){var t=Object(c.useState)(""),r=Object(a.a)(t,2),n=r[0],i=r[1];return Object(l.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.onSubmit(n.toLowerCase().trim()),i("")},children:[Object(l.jsx)("label",{className:_.a.searchbar__label,htmlFor:"subreddit",children:"www.reddit.com/r/"}),Object(l.jsx)("input",{className:_.a.searchbar__input,type:"text",id:"subreddit",name:"subreddit",placeholder:"askreddit",value:n,onChange:function(e){i(e.target.value)}}),Object(l.jsx)(v,{className:_.a.searchbar__btn,btnText:"Submit",type:"submit"})]})},m=r(12),g=function(){var e=window;return{width:e.innerWidth,height:e.innerHeight}},S=function(){var e=Object(c.useState)(g()),t=Object(a.a)(e,2),r=t[0],n=t[1];return Object(c.useEffect)((function(){function e(){n(g())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),r},y=r(9),P=r.n(y),M=function(e){var t=e.numPosts/1;t=(t=t/e.maxDailyPosts*6)<1&&t>0?1:t,t=Math.round(t);var r="color-".concat(t);return Object(l.jsx)("td",{className:"".concat(P.a["grid-square"]," ").concat(P.a[r]),children:0===e.numPosts?"-":e.numPosts})},w=function(e){var t=e.dayHour,r=e.maxDailyPosts,c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];return Object(l.jsx)("div",{children:Object(l.jsxs)("table",{cellSpacing:"0",cellPadding:"0",border:"0",children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{}),Object(l.jsxs)("th",{children:[Object(l.jsx)("div",{children:"12"}),Object(l.jsx)("div",{children:"AM"})]}),Object(l.jsxs)("th",{children:[Object(l.jsx)("div",{children:"1"}),Object(l.jsx)("div",{children:"AM"})]}),Object(l.jsxs)("th",{children:[Object(l.jsx)("div",{children:"2"}),Object(l.jsx)("div",{children:"AM"})]}),Object(l.jsxs)("th",{children:[Object(l.jsx)("div",{children:"3"}),Object(l.jsx)("div",{children:"AM"})]}),Object(l.jsxs)("th",{children:[Object(l.jsx)("div",{children:"4"}),Object(l.jsx)("div",{children:"AM"})]}),Object(l.jsxs)("th",{children:[Object(l.jsx)("div",{children:"5"}),Object(l.jsx)("div",{children:"AM"})]}),Object(l.jsxs)("th",{children:[Object(l.jsx)("div",{children:"6"}),Object(l.jsx)("div",{children:"AM"})]}),Object(l.jsxs)("th",{children:[Object(l.jsx)("div",{children:"7"}),Object(l.jsx)("div",{children:"AM"})]}),Object(l.jsxs)("th",{children:[Object(l.jsx)("div",{children:"8"}),Object(l.jsx)("div",{children:"AM"})]}),Object(l.jsxs)("th",{children:[Object(l.jsx)("div",{children:"9"}),Object(l.jsx)("div",{children:"AM"})]}),Object(l.jsxs)("th",{children:[Object(l.jsx)("div",{children:"10"}),Object(l.jsx)("div",{children:"AM"})]}),Object(l.jsxs)("th",{children:[Object(l.jsx)("div",{children:"11"}),Object(l.jsx)("div",{children:"AM"})]}),Object(l.jsxs)("th",{children:[Object(l.jsx)("div",{children:"12"}),Object(l.jsx)("div",{children:"PM"})]}),Object(l.jsxs)("th",{children:[Object(l.jsx)("div",{children:"1"}),Object(l.jsx)("div",{children:"PM"})]}),Object(l.jsxs)("th",{children:[Object(l.jsx)("div",{children:"2"}),Object(l.jsx)("div",{children:"PM"})]}),Object(l.jsxs)("th",{children:[Object(l.jsx)("div",{children:"3"}),Object(l.jsx)("div",{children:"PM"})]}),Object(l.jsxs)("th",{children:[Object(l.jsx)("div",{children:"4"}),Object(l.jsx)("div",{children:"PM"})]}),Object(l.jsxs)("th",{children:[Object(l.jsx)("div",{children:"5"}),Object(l.jsx)("div",{children:"PM"})]}),Object(l.jsxs)("th",{children:[Object(l.jsx)("div",{children:"6"}),Object(l.jsx)("div",{children:"PM"})]}),Object(l.jsxs)("th",{children:[Object(l.jsx)("div",{children:"7"}),Object(l.jsx)("div",{children:"PM"})]}),Object(l.jsxs)("th",{children:[Object(l.jsx)("div",{children:"8"}),Object(l.jsx)("div",{children:"PM"})]}),Object(l.jsxs)("th",{children:[Object(l.jsx)("div",{children:"9"}),Object(l.jsx)("div",{children:"PM"})]}),Object(l.jsxs)("th",{children:[Object(l.jsx)("div",{children:"10"}),Object(l.jsx)("div",{children:"PM"})]}),Object(l.jsxs)("th",{children:[Object(l.jsx)("div",{children:"11"}),Object(l.jsx)("div",{children:"PM"})]})]})}),Object(l.jsx)("tbody",{children:t.map((function(e,t){return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:c[t]}),e.map((function(e,t){return Object(l.jsx)(M,{numPosts:e,maxDailyPosts:r},t)}))]},t)}))})]})})},N=function(e){var t=e.dayHour,r=e.screenWidth,c=e.maxDailyPosts,n=function(e){for(var t=new Array(24),r=0;r<t.length;r++)t[r]=new Array(7).fill(0);for(var c=0;c<t.length;c++)for(var n=0;n<t[c].length;n++)t[c][n]=e[n][c];return t}(t);return Object(l.jsx)("div",{children:Object(l.jsxs)("table",{cellSpacing:"0",cellPadding:"0",border:"0",children:[Object(l.jsx)("thead",{children:r>=480?Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{}),Object(l.jsx)("th",{children:"Sun"}),Object(l.jsx)("th",{children:"Mon"}),Object(l.jsx)("th",{children:"Tue"}),Object(l.jsx)("th",{children:"Wed"}),Object(l.jsx)("th",{children:"Thr"}),Object(l.jsx)("th",{children:"Fri"}),Object(l.jsx)("th",{children:"Sat"})]}):Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{}),Object(l.jsx)("th",{children:"S"}),Object(l.jsx)("th",{children:"M"}),Object(l.jsx)("th",{children:"T"}),Object(l.jsx)("th",{children:"W"}),Object(l.jsx)("th",{children:"T"}),Object(l.jsx)("th",{children:"F"}),Object(l.jsx)("th",{children:"S"})]})}),Object(l.jsx)("tbody",{children:n.map((function(e,t){return Object(l.jsxs)("tr",{children:[Object(l.jsxs)("td",{children:[t%12===0?12:t%12," ",t<12?"AM":"PM"]}),e.map((function(e,t){return Object(l.jsx)(M,{numPosts:e,maxDailyPosts:c},t)}))]},t)}))})]})})},A=function(e){var t=S(),r=t.height,n=t.width,i=function(){for(var t=[],r=0;r<7;r++)t.push(new Array(24).fill(0));var c,n=Object(m.a)(e.data);try{for(n.s();!(c=n.n()).done;){var i=c.value;0===i.day?t[0][parseInt(i.hour,10)]++:1===i.day?t[1][parseInt(i.hour,10)]++:2===i.day?t[2][parseInt(i.hour,10)]++:3===i.day?t[3][parseInt(i.hour,10)]++:4===i.day?t[4][parseInt(i.hour,10)]++:5===i.day?t[5][parseInt(i.hour,10)]++:6===i.day&&t[6][parseInt(i.hour,10)]++}}catch(s){n.e(s)}finally{n.f()}return t}(),s=i.flat().reduce((function(e,t){return Math.max(e,t)}),0);return Object(c.useEffect)((function(){return e.data&&0!==e.data.length?n>r?Object(l.jsx)(w,{dayHour:i,max:s}):Object(l.jsx)(N,{dayHour:i,screenWidth:n,maxDailyPosts:s}):Object(l.jsx)("p",{children:"No data..."})}),[r,n,i,e.data,s]),e.data&&0!==e.data.length?n>r?Object(l.jsx)(w,{dayHour:i,maxDailyPosts:s}):Object(l.jsx)(N,{dayHour:i,screenWidth:n,maxDailyPosts:s}):Object(l.jsx)("p",{children:"No data..."})},I=function(e){var t=Object(c.useState)(null),r=Object(a.a)(t,2),n=r[0],i=r[1],s=Object(c.useState)(!1),d=Object(a.a)(s,2),j=d[0],o=d[1],h=Object(c.useState)(null),b=Object(a.a)(h,2),u=b[0],O=b[1];return Object(c.useEffect)((function(){o(!0);var t=Intl.DateTimeFormat().resolvedOptions().timeZone,r=Intl.DateTimeFormat().resolvedOptions().locale;fetch("https://www.reddit.com/r/".concat(e.subreddit,"/top.json?t=month&limit=100")).then((function(e){return e.json()})).then((function(c){if(!c||0===c.length)return o(!1),void i(null);var n=c.data.children.map((function(c){var n=new Date(1e3*c.data.created_utc);return{subreddit:e.subreddit,upvote_ratio:c.data.upvote_ratio,unix_time:n,day:n.getDay(),date:n.toLocaleString(r,{timeZone:t}).split(", ")[0],time:n.toLocaleString(r,{timeZone:t}).split(", ")[1],hour:n.toLocaleString(r,{timeZone:t,hour12:!1}).split(", ")[1].split(":")[0]%24}}));n.sort((function(e,t){return t.upvote_ratio-e.upvote_ratio})),n.sort((function(e,t){return parseInt(e.hour)-parseInt(t.hour)})),n.sort((function(e,t){return parseInt(e.day)-parseInt(t.day)})),o(!1),i(n||null)})).catch((function(t){o(!1),O('Error: No data available for subreddit: "'.concat(e.subreddit,'"'))}))}),[e.subreddit]),Object(c.useEffect)((function(){n&&n.length>0&&fetch("https://reddit-scraper-app-default-rtdb.firebaseio.com/subreddits.json",{method:"POST",body:JSON.stringify({subreddit:n[0].subreddit.toLowerCase(),count:1}),headers:{"Content-Type":"application/json"}})}),[n]),j?Object(l.jsx)("p",{children:"Loading... "}):u?Object(l.jsx)("p",{children:u}):n?Object(l.jsx)(A,{data:n}):Object(l.jsx)("p",{children:"Something went wrong... "})},L=r(6),T=r.n(L),D=function(e){return Object(l.jsxs)("div",{className:T.a["popular-search-list"],children:[Object(l.jsx)("div",{className:T.a["popular-search-list__heading"],children:"Popular Searches"}),e.data&&0!==e.data.length?e.data.map((function(e){return Object(l.jsx)("div",{className:T.a["popular-search-list__subreddit"],children:e.subreddit},e.subreddit)})):Object(l.jsx)("p",{children:"no data..."})]})},F=function(e){var t=Object(c.useState)(null),r=Object(a.a)(t,2),n=r[0],i=r[1],s=Object(c.useState)(!1),d=Object(a.a)(s,2),j=d[0],o=d[1],h=Object(c.useState)(null),b=Object(a.a)(h,2),u=b[0],O=b[1];return Object(c.useEffect)((function(){o(!0),fetch("https://reddit-scraper-app-default-rtdb.firebaseio.com/subreddits.json").then((function(e){return e.json()})).then((function(e){if(e){for(var t={},r=0,c=Object.entries(e);r<c.length;r++){var n=c[r],s=n[1].subreddit,a=n[1].count;t[s]?t[s]++:t[s]=a}var d=Object.entries(t).map((function(e){return{subreddit:e[0],count:e[1]}}));d.sort((function(e,t){return t.count-e.count})),d.splice(5,d.length),o(!1),i(d)}else o(!1)})).catch((function(e){return O("Something went wrong...")}))}),[e.subreddit]),j?Object(l.jsx)("p",{children:"Loading..."}):u?Object(l.jsx)("p",{children:"Something went wrong..."}):Object(l.jsx)(D,{data:n})},q=function(){var e=Object(c.useState)(null),t=Object(a.a)(e,2),r=t[0],n=t[1];return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(o,{}),Object(l.jsx)(u,{}),Object(l.jsx)(f,{onSubmit:function(e){n(e)}}),r&&Object(l.jsx)(I,{subreddit:r}),Object(l.jsx)(F,{subreddit:r})]})},E=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,21)).then((function(t){var r=t.getCLS,c=t.getFID,n=t.getFCP,i=t.getLCP,s=t.getTTFB;r(e),c(e),n(e),i(e),s(e)}))};s.a.render(Object(l.jsx)(n.a.StrictMode,{children:Object(l.jsx)(q,{})}),document.getElementById("root")),E()}],[[20,1,2]]]);
//# sourceMappingURL=main.6ddc2b61.chunk.js.map