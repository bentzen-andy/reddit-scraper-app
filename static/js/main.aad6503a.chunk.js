(this["webpackJsonpreddit-scraper"]=this["webpackJsonpreddit-scraper"]||[]).push([[0],{11:function(t,e,n){},12:function(t,e,n){},14:function(t,e,n){"use strict";n.r(e);var r=n(1),c=n.n(r),d=n(5),a=n.n(d),i=(n(11),n(2)),s=(n(12),n(0)),j=function(){return Object(s.jsx)("div",{children:"[LOGO] Reddit Scraper App"})},u=function(){return Object(s.jsx)("div",{children:"Search for your favorite subreddit below to find the best times to post."})},o=function(t){var e=Object(r.useState)(""),n=Object(i.a)(e,2),c=n[0],d=n[1];return Object(s.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t.onSubmit(c)},children:[Object(s.jsx)("label",{htmlFor:"subreddit",children:"Choose a subreddit: r/"}),Object(s.jsx)("input",{type:"text",id:"subreddit",name:"subreddit",onChange:function(t){d(t.target.value)}}),Object(s.jsx)("button",{type:"submit",value:"Submit",children:"Submit"})]})},h=n(6),b=function(t){var e,n={sunday:new Array(24).fill(0),monday:new Array(24).fill(0),tuesday:new Array(24).fill(0),wednesday:new Array(24).fill(0),thursday:new Array(24).fill(0),friday:new Array(24).fill(0),saturday:new Array(24).fill(0)},r=Object(h.a)(t.data);try{for(r.s();!(e=r.n()).done;){var c=e.value;0===c.day&&n.sunday[parseInt(c.hour,10)]++,1===c.day&&n.monday[parseInt(c.hour,10)]++,2===c.day&&n.tuesday[parseInt(c.hour,10)]++,3===c.day&&n.wednesday[parseInt(c.hour,10)]++,4===c.day&&n.thursday[parseInt(c.hour,10)]++,5===c.day&&n.friday[parseInt(c.hour,10)]++,6===c.day&&n.saturday[parseInt(c.hour,10)]++}}catch(d){r.e(d)}finally{r.f()}return Object(s.jsx)("div",{children:Object(s.jsxs)("table",{children:[Object(s.jsx)("thead",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{}),Object(s.jsx)("th",{children:"12 AM"}),Object(s.jsx)("th",{children:"1 AM"}),Object(s.jsx)("th",{children:"2 AM"}),Object(s.jsx)("th",{children:"3 AM"}),Object(s.jsx)("th",{children:"4 AM"}),Object(s.jsx)("th",{children:"5 AM"}),Object(s.jsx)("th",{children:"6 AM"}),Object(s.jsx)("th",{children:"7 AM"}),Object(s.jsx)("th",{children:"8 AM"}),Object(s.jsx)("th",{children:"9 AM"}),Object(s.jsx)("th",{children:"10 AM"}),Object(s.jsx)("th",{children:"11 AM"}),Object(s.jsx)("th",{children:"12 PM"}),Object(s.jsx)("th",{children:"1 PM"}),Object(s.jsx)("th",{children:"2 PM"}),Object(s.jsx)("th",{children:"3 PM"}),Object(s.jsx)("th",{children:"4 PM"}),Object(s.jsx)("th",{children:"5 PM"}),Object(s.jsx)("th",{children:"6 PM"}),Object(s.jsx)("th",{children:"7 PM"}),Object(s.jsx)("th",{children:"8 PM"}),Object(s.jsx)("th",{children:"9 PM"}),Object(s.jsx)("th",{children:"10 PM"}),Object(s.jsx)("th",{children:"11 PM"})]})}),Object(s.jsxs)("tbody",{children:[Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:"Sunday"}),n.sunday.map((function(t){return Object(s.jsx)("td",{children:t},Math.random())}))]}),Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:"Monday"}),n.monday.map((function(t){return Object(s.jsx)("td",{children:t},Math.random())}))]}),Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:"Tuesday"}),n.tuesday.map((function(t){return Object(s.jsx)("td",{children:t},Math.random())}))]}),Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:"Wednesday"}),n.wednesday.map((function(t){return Object(s.jsx)("td",{children:t},Math.random())}))]}),Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:"Thursday"}),n.thursday.map((function(t){return Object(s.jsx)("td",{children:t},Math.random())}))]}),Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:"Friday"}),n.friday.map((function(t){return Object(s.jsx)("td",{children:t},Math.random())}))]}),Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:"Saturday"}),n.saturday.map((function(t){return Object(s.jsx)("td",{children:t},Math.random())}))]})]})]})})},l=function(t){var e=Object(r.useState)(null),n=Object(i.a)(e,2),c=n[0],d=n[1],a=Object(r.useState)(!1),j=Object(i.a)(a,2),u=j[0],o=j[1],h=Object(r.useState)(null),l=Object(i.a)(h,2),O=l[0],x=l[1];return Object(r.useEffect)((function(){o(!0),fetch("https://www.reddit.com/r/".concat(t.subreddit,"/top.json?t=month&limit=100")).then((function(t){return t.json()})).then((function(t){var e=t.data.children.map((function(t){return{upvote_ratio:t.data.upvote_ratio,day:new Date(new Date(1e3*t.data.created_utc).toLocaleString("en-US",{timeZone:"America/New_York"})).getDay(),date:new Date(1e3*t.data.created_utc).toLocaleString("en-GB",{timeZone:"America/New_York"}).split(", ")[0],time:new Date(1e3*t.data.created_utc).toLocaleString("en-GB",{timeZone:"America/New_York"}).split(", ")[1],hour:new Date(1e3*t.data.created_utc).toLocaleString("en-GB",{timeZone:"America/New_York"}).split(", ")[1].split(":")[0]}}));e.sort((function(t,e){return e.upvote_ratio-t.upvote_ratio})),e.sort((function(t,e){return parseInt(t.hour)-parseInt(e.hour)})),e.sort((function(t,e){return parseInt(t.day)-parseInt(e.day)})),d(e||null)})).catch((function(t){return x("Something went wrong...")}))}),[t.subreddit]),Object(r.useEffect)((function(){c&&fetch("https://reddit-scraper-app-default-rtdb.firebaseio.com/subreddits.json",{method:"POST",body:JSON.stringify({subreddit:t.subreddit,count:1}),headers:{"Content-Type":"application/json"}})}),[t.subreddit,c]),c&&0===c.length?Object(s.jsx)("p",{children:"No data... "}):c?Object(s.jsx)(b,{data:c}):O?Object(s.jsx)("p",{children:O}):u?Object(s.jsx)("p",{children:"Loading... "}):Object(s.jsx)("p",{children:"Something went wrong... "})},O=function(t){return t.data?Object(s.jsxs)(c.a.Fragment,{children:[Object(s.jsx)("h1",{children:"Popular Searches"}),t.data.map((function(t){return Object(s.jsxs)("p",{children:[t.subreddit,".....",t.count]},Math.random())}))]}):Object(s.jsx)("p",{children:"no data..."})},x=function(t){var e=Object(r.useState)(null),n=Object(i.a)(e,2),c=n[0],d=n[1],a=Object(r.useState)(!1),j=Object(i.a)(a,2),u=j[0],o=j[1],h=Object(r.useState)(null),b=Object(i.a)(h,2),l=b[0],x=b[1];return Object(r.useEffect)((function(){o(!0),fetch("https://reddit-scraper-app-default-rtdb.firebaseio.com/subreddits.json").then((function(t){return t.json()})).then((function(t){var e={};for(var n in t)e[t[n].subreddit]?e[t[n].subreddit]=e[t[n].subreddit]+1:e[t[n].subreddit]=t[n].count;var r=[];for(var c in e)r.push({subreddit:c,count:e[c]});r.sort((function(t,e){return e.count-t.count})),d(r)})).catch((function(t){return x("Something went wrong...")}))}),[t.subreddit]),c&&0===c.length?Object(s.jsx)("p",{children:"No data... "}):c?Object(s.jsx)(O,{data:c}):l?Object(s.jsx)("p",{children:l}):u?Object(s.jsx)("p",{children:"Loading... "}):Object(s.jsx)("p",{children:"Something went wrong... "})},f=function(){var t=Object(r.useState)(null),e=Object(i.a)(t,2),n=e[0],c=e[1];return Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)(j,{}),Object(s.jsx)(u,{}),Object(s.jsx)(o,{onSubmit:function(t){c(t)}}),n&&Object(s.jsx)(l,{subreddit:n}),Object(s.jsx)(x,{subreddit:n})]})},p=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,15)).then((function(e){var n=e.getCLS,r=e.getFID,c=e.getFCP,d=e.getLCP,a=e.getTTFB;n(t),r(t),c(t),d(t),a(t)}))};a.a.render(Object(s.jsx)(c.a.StrictMode,{children:Object(s.jsx)(f,{})}),document.getElementById("root")),p()}},[[14,1,2]]]);
//# sourceMappingURL=main.aad6503a.chunk.js.map