(this["webpackJsonpreddit-scraper"]=this["webpackJsonpreddit-scraper"]||[]).push([[0],[,,,function(e,t,r){e.exports={navbar:"Navbar_navbar__31-FB",navbar__title:"Navbar_navbar__title__3-7CC","navbar__logo-container":"Navbar_navbar__logo-container__3oNuj",navbar__logo:"Navbar_navbar__logo__2ou9Y"}},,function(e,t,r){e.exports={searchbar__label:"SearchBar_searchbar__label__1aEKd",searchbar__input:"SearchBar_searchbar__input__1UQUp",searchbar__btn:"SearchBar_searchbar__btn__9s5ct"}},function(e,t,r){e.exports={"popular-search-list":"PopularSearchList_popular-search-list__1c3Fc","popular-search-list__heading":"PopularSearchList_popular-search-list__heading__35FaZ","popular-search-list__subreddit":"PopularSearchList_popular-search-list__subreddit__1gELa"}},,function(e,t,r){e.exports={btn:"Button_btn__Liofu"}},function(e,t,r){e.exports={"grid-square":"GridSquare_grid-square__cQ_Rq","color-1":"GridSquare_color-1__2AOH0","color-2":"GridSquare_color-2__3f6Tx","color-3":"GridSquare_color-3__E6IfZ","color-4":"GridSquare_color-4__1mIqN","color-5":"GridSquare_color-5__2eI04","color-6":"GridSquare_color-6__3aZJ3"}},,function(e,t,r){e.exports={instructions:"Instructions_instructions__1imUA"}},function(e,t,r){e.exports={"error-text":"ErrorMessage_error-text__1C2R-"}},,,,,,function(e,t,r){},function(e,t,r){},,function(e,t,r){"use strict";r.r(t);var c=r(1),n=r.n(c),i=r(10),s=r.n(i),a=(r(18),r(2)),d=(r(19),r(3)),j=r.n(d),o=r(0),l=function(){return Object(o.jsxs)("div",{className:j.a.navbar,children:[Object(o.jsx)("a",{className:j.a["navbar__logo-container"],href:"/react-scraper-app",children:Object(o.jsx)("div",{className:j.a.navbar__logo,children:"R"})}),Object(o.jsx)("div",{className:j.a.navbar__title,children:"Reddit Scraper App"})]})},h=r(11),b=r.n(h),u=function(){return Object(o.jsx)("div",{className:b.a.instructions,children:"Search for your favorite subreddit below to find the best times to post."})},O=r(8),x=r.n(O),f=function(e){var t=e.className?"".concat(e.className," ").concat(x.a.btn):x.a.btn;return Object(o.jsx)("button",{className:t,onClick:e.onClick,children:e.btnText})},v=r(5),p=r.n(v),_=function(e){var t=Object(c.useState)(""),r=Object(a.a)(t,2),n=r[0],i=r[1];return Object(o.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.onSubmit(n.toLowerCase().trim()),i("")},children:[Object(o.jsx)("label",{className:p.a.searchbar__label,htmlFor:"subreddit",children:"www.reddit.com/r/"}),Object(o.jsx)("input",{className:p.a.searchbar__input,type:"text",id:"subreddit",name:"subreddit",placeholder:"askreddit",value:n,onChange:function(e){i(e.target.value)}}),Object(o.jsx)(f,{className:p.a.searchbar__btn,btnText:"Submit",type:"submit"})]})},m=function(e){return Object(o.jsxs)("svg",{width:e.width,height:e.height,viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg","aria-label":e.label,children:[Object(o.jsx)("defs",{children:Object(o.jsxs)("linearGradient",{x1:"8.042%",y1:"0%",x2:"65.682%",y2:"23.865%",id:"a",children:[Object(o.jsx)("stop",{stopColor:e.color,stopOpacity:"0",offset:"0%"}),Object(o.jsx)("stop",{stopColor:e.color,stopOpacity:".631",offset:"63.146%"}),Object(o.jsx)("stop",{stopColor:e.color,offset:"100%"})]})}),Object(o.jsx)("g",{fill:"none",fillRule:"evenodd",children:Object(o.jsxs)("g",{transform:"translate(1 1)",children:[Object(o.jsx)("path",{d:"M36 18c0-9.94-8.06-18-18-18",id:"Oval-2",stroke:e.color,strokeWidth:"2",children:Object(o.jsx)("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"0.9s",repeatCount:"indefinite"})}),Object(o.jsx)("circle",{fill:"#fff",cx:"36",cy:"18",r:e.radius,children:Object(o.jsx)("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"0.9s",repeatCount:"indefinite"})})]})})]})};m.defaultProps={height:80,width:80,color:"green",radius:1,label:"audio-loading"};var g=r(12),y=r.n(g),S=function(e){return Object(o.jsx)("div",{className:y.a["error-text"],children:e.msg})},P=r(13),w=function(){var e=window;return{width:e.innerWidth,height:e.innerHeight}},M=function(){var e=Object(c.useState)(w()),t=Object(a.a)(e,2),r=t[0],n=t[1];return Object(c.useEffect)((function(){function e(){n(w())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),r},N=r(9),A=r.n(N),I=function(e){var t=e.numPosts/1;t=(t=t/e.maxDailyPosts*6)<1&&t>0?1:t,t=Math.round(t);var r="color-".concat(t);return Object(o.jsx)("td",{className:"".concat(A.a["grid-square"]," ").concat(A.a[r]),children:0===e.numPosts?"-":e.numPosts})},C=function(e){var t=e.dayHour,r=e.maxDailyPosts,c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];return Object(o.jsx)("div",{children:Object(o.jsxs)("table",{cellSpacing:"0",cellPadding:"0",border:"0",children:[Object(o.jsx)("thead",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{}),Object(o.jsxs)("th",{children:[Object(o.jsx)("div",{children:"12"}),Object(o.jsx)("div",{children:"AM"})]}),Object(o.jsxs)("th",{children:[Object(o.jsx)("div",{children:"1"}),Object(o.jsx)("div",{children:"AM"})]}),Object(o.jsxs)("th",{children:[Object(o.jsx)("div",{children:"2"}),Object(o.jsx)("div",{children:"AM"})]}),Object(o.jsxs)("th",{children:[Object(o.jsx)("div",{children:"3"}),Object(o.jsx)("div",{children:"AM"})]}),Object(o.jsxs)("th",{children:[Object(o.jsx)("div",{children:"4"}),Object(o.jsx)("div",{children:"AM"})]}),Object(o.jsxs)("th",{children:[Object(o.jsx)("div",{children:"5"}),Object(o.jsx)("div",{children:"AM"})]}),Object(o.jsxs)("th",{children:[Object(o.jsx)("div",{children:"6"}),Object(o.jsx)("div",{children:"AM"})]}),Object(o.jsxs)("th",{children:[Object(o.jsx)("div",{children:"7"}),Object(o.jsx)("div",{children:"AM"})]}),Object(o.jsxs)("th",{children:[Object(o.jsx)("div",{children:"8"}),Object(o.jsx)("div",{children:"AM"})]}),Object(o.jsxs)("th",{children:[Object(o.jsx)("div",{children:"9"}),Object(o.jsx)("div",{children:"AM"})]}),Object(o.jsxs)("th",{children:[Object(o.jsx)("div",{children:"10"}),Object(o.jsx)("div",{children:"AM"})]}),Object(o.jsxs)("th",{children:[Object(o.jsx)("div",{children:"11"}),Object(o.jsx)("div",{children:"AM"})]}),Object(o.jsxs)("th",{children:[Object(o.jsx)("div",{children:"12"}),Object(o.jsx)("div",{children:"PM"})]}),Object(o.jsxs)("th",{children:[Object(o.jsx)("div",{children:"1"}),Object(o.jsx)("div",{children:"PM"})]}),Object(o.jsxs)("th",{children:[Object(o.jsx)("div",{children:"2"}),Object(o.jsx)("div",{children:"PM"})]}),Object(o.jsxs)("th",{children:[Object(o.jsx)("div",{children:"3"}),Object(o.jsx)("div",{children:"PM"})]}),Object(o.jsxs)("th",{children:[Object(o.jsx)("div",{children:"4"}),Object(o.jsx)("div",{children:"PM"})]}),Object(o.jsxs)("th",{children:[Object(o.jsx)("div",{children:"5"}),Object(o.jsx)("div",{children:"PM"})]}),Object(o.jsxs)("th",{children:[Object(o.jsx)("div",{children:"6"}),Object(o.jsx)("div",{children:"PM"})]}),Object(o.jsxs)("th",{children:[Object(o.jsx)("div",{children:"7"}),Object(o.jsx)("div",{children:"PM"})]}),Object(o.jsxs)("th",{children:[Object(o.jsx)("div",{children:"8"}),Object(o.jsx)("div",{children:"PM"})]}),Object(o.jsxs)("th",{children:[Object(o.jsx)("div",{children:"9"}),Object(o.jsx)("div",{children:"PM"})]}),Object(o.jsxs)("th",{children:[Object(o.jsx)("div",{children:"10"}),Object(o.jsx)("div",{children:"PM"})]}),Object(o.jsxs)("th",{children:[Object(o.jsx)("div",{children:"11"}),Object(o.jsx)("div",{children:"PM"})]})]})}),Object(o.jsx)("tbody",{children:t.map((function(e,t){return Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:c[t]}),e.map((function(e,t){return Object(o.jsx)(I,{numPosts:e,maxDailyPosts:r},t)}))]},t)}))})]})})},T=function(e){var t=e.dayHour,r=e.screenWidth,c=e.maxDailyPosts,n=function(e){for(var t=new Array(24),r=0;r<t.length;r++)t[r]=new Array(7).fill(0);for(var c=0;c<t.length;c++)for(var n=0;n<t[c].length;n++)t[c][n]=e[n][c];return t}(t);return Object(o.jsx)("div",{children:Object(o.jsxs)("table",{cellSpacing:"0",cellPadding:"0",border:"0",children:[Object(o.jsx)("thead",{children:r>=480?Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{}),Object(o.jsx)("th",{children:"Sun"}),Object(o.jsx)("th",{children:"Mon"}),Object(o.jsx)("th",{children:"Tue"}),Object(o.jsx)("th",{children:"Wed"}),Object(o.jsx)("th",{children:"Thr"}),Object(o.jsx)("th",{children:"Fri"}),Object(o.jsx)("th",{children:"Sat"})]}):Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{}),Object(o.jsx)("th",{children:"S"}),Object(o.jsx)("th",{children:"M"}),Object(o.jsx)("th",{children:"T"}),Object(o.jsx)("th",{children:"W"}),Object(o.jsx)("th",{children:"T"}),Object(o.jsx)("th",{children:"F"}),Object(o.jsx)("th",{children:"S"})]})}),Object(o.jsx)("tbody",{children:n.map((function(e,t){return Object(o.jsxs)("tr",{children:[Object(o.jsxs)("td",{children:[t%12===0?12:t%12," ",t<12?"AM":"PM"]}),e.map((function(e,t){return Object(o.jsx)(I,{numPosts:e,maxDailyPosts:c},t)}))]},t)}))})]})})},D=function(e){var t=M(),r=t.height,n=t.width,i=function(){for(var t=[],r=0;r<7;r++)t.push(new Array(24).fill(0));var c,n=Object(P.a)(e.data);try{for(n.s();!(c=n.n()).done;){var i=c.value;0===i.day?t[0][parseInt(i.hour,10)]++:1===i.day?t[1][parseInt(i.hour,10)]++:2===i.day?t[2][parseInt(i.hour,10)]++:3===i.day?t[3][parseInt(i.hour,10)]++:4===i.day?t[4][parseInt(i.hour,10)]++:5===i.day?t[5][parseInt(i.hour,10)]++:6===i.day&&t[6][parseInt(i.hour,10)]++}}catch(s){n.e(s)}finally{n.f()}return t}(),s=i.flat().reduce((function(e,t){return Math.max(e,t)}),0);return Object(c.useEffect)((function(){return e.data&&0!==e.data.length?n>r?Object(o.jsx)(C,{dayHour:i,max:s}):Object(o.jsx)(T,{dayHour:i,screenWidth:n,maxDailyPosts:s}):Object(o.jsx)("p",{children:"No data..."})}),[r,n,i,e.data,s]),e.data&&0!==e.data.length?n>r?Object(o.jsx)(C,{dayHour:i,maxDailyPosts:s}):Object(o.jsx)(T,{dayHour:i,screenWidth:n,maxDailyPosts:s}):Object(o.jsx)("p",{children:"No data..."})},L=function(e){var t=Object(c.useState)(null),r=Object(a.a)(t,2),n=r[0],i=r[1],s=Object(c.useState)(!1),d=Object(a.a)(s,2),j=d[0],l=d[1],h=Object(c.useState)(null),b=Object(a.a)(h,2),u=b[0],O=b[1];return Object(c.useEffect)((function(){O(null),l(!0);var t=Intl.DateTimeFormat().resolvedOptions().timeZone,r=Intl.DateTimeFormat().resolvedOptions().locale;fetch("https://www.reddit.com/r/".concat(e.subreddit,"/top.json?t=month&limit=100")).then((function(e){return e.json()})).then((function(c){if(!c||0===c.length)return l(!1),O(null),void i(null);var n=c.data.children.map((function(c){var n=new Date(1e3*c.data.created_utc);return{subreddit:e.subreddit,upvote_ratio:c.data.upvote_ratio,unix_time:n,day:n.getDay(),date:n.toLocaleString(r,{timeZone:t}).split(", ")[0],time:n.toLocaleString(r,{timeZone:t}).split(", ")[1],hour:n.toLocaleString(r,{timeZone:t,hour12:!1}).split(", ")[1].split(":")[0]%24}}));n.sort((function(e,t){return t.upvote_ratio-e.upvote_ratio})),n.sort((function(e,t){return parseInt(e.hour)-parseInt(t.hour)})),n.sort((function(e,t){return parseInt(e.day)-parseInt(t.day)})),l(!1),i(n||null)})).catch((function(t){l(!1),O('Error: No data available for subreddit: "'.concat(e.subreddit,'"'))}))}),[e.subreddit]),Object(c.useEffect)((function(){n&&n.length>0&&fetch("https://reddit-scraper-app-default-rtdb.firebaseio.com/subreddits.json",{method:"POST",body:JSON.stringify({subreddit:n[0].subreddit.toLowerCase(),count:1}),headers:{"Content-Type":"application/json"}})}),[n]),j?Object(o.jsx)(m,{color:"#6200ee"}):u?Object(o.jsx)(S,{msg:u}):n?Object(o.jsx)(D,{data:n}):Object(o.jsx)("p",{children:"Something went wrong... "})},E=r(6),F=r.n(E),q=function(e){return Object(o.jsxs)("div",{className:F.a["popular-search-list"],children:[Object(o.jsx)("div",{className:F.a["popular-search-list__heading"],children:"Popular Searches"}),e.data&&0!==e.data.length?e.data.map((function(e){return Object(o.jsx)("div",{className:F.a["popular-search-list__subreddit"],children:e.subreddit},e.subreddit)})):Object(o.jsx)("p",{children:"no data..."})]})},B=function(e){var t=Object(c.useState)(null),r=Object(a.a)(t,2),n=r[0],i=r[1],s=Object(c.useState)(!1),d=Object(a.a)(s,2),j=d[0],l=d[1],h=Object(c.useState)(null),b=Object(a.a)(h,2),u=b[0],O=b[1];return Object(c.useEffect)((function(){l(!0),fetch("https://reddit-scraper-app-default-rtdb.firebaseio.com/subreddits.json").then((function(e){return e.json()})).then((function(e){if(e){for(var t={},r=0,c=Object.entries(e);r<c.length;r++){var n=c[r],s=n[1].subreddit,a=n[1].count;t[s]?t[s]++:t[s]=a}var d=Object.entries(t).map((function(e){return{subreddit:e[0],count:e[1]}}));d.sort((function(e,t){return t.count-e.count})),d.splice(5,d.length),l(!1),i(d)}else l(!1)})).catch((function(e){return O("Something went wrong...")}))}),[]),j?Object(o.jsx)(m,{color:"#6200ee"}):u?Object(o.jsx)(S,{msg:u}):Object(o.jsx)(q,{data:n})},G=function(){var e=Object(c.useState)(null),t=Object(a.a)(e,2),r=t[0],n=t[1];return Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)(l,{}),Object(o.jsx)(u,{}),Object(o.jsx)(_,{onSubmit:function(e){n(e)}}),r&&Object(o.jsx)(L,{subreddit:r}),Object(o.jsx)(B,{subreddit:r})]})},H=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,22)).then((function(t){var r=t.getCLS,c=t.getFID,n=t.getFCP,i=t.getLCP,s=t.getTTFB;r(e),c(e),n(e),i(e),s(e)}))};s.a.render(Object(o.jsx)(n.a.StrictMode,{children:Object(o.jsx)(G,{})}),document.getElementById("root")),H()}],[[21,1,2]]]);
//# sourceMappingURL=main.c92e1c47.chunk.js.map